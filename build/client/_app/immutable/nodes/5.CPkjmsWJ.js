import{f as m,a as n,c as oe}from"../chunks/R8eUw0rf.js";import"../chunks/Dw5luiki.js";import{p as se,s as l,f as L,c as o,a as de,e as g,u as t,r as a,n as c,t as v,g as r}from"../chunks/Ckx13BoS.js";import{s as x}from"../chunks/DjrrgQ94.js";import{i as y}from"../chunks/C6UGZhB6.js";import{e as le,i as ie}from"../chunks/DBNqpBx4.js";import{r as u,s as _,a as M}from"../chunks/xiS_jUnV.js";import{s as ne}from"../chunks/BP3dwPwH.js";import{i as me}from"../chunks/ZIA5dzzm.js";import{p as N}from"../chunks/B6sxBtLM.js";var pe=m("<p> </p>"),ce=m('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/suspend" class="border px-2 py-1">Suspender</button></form>'),ve=m('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/resume" class="border px-2 py-1">Reactivar</button></form>'),fe=m('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/softDelete" class="border px-2 py-1">Borrar</button></form>'),be=m('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/restore" class="border px-2 py-1">Restaurar</button></form>'),ue=m('<tr><td class="border p-2"> </td><td class="border p-2"> </td><td class="border p-2"> </td><td class="border p-2"><form method="POST" class="inline"><input type="hidden" name="id"/> <select name="role" class="border p-1"><option>user</option><option>admin</option></select> <button formaction="?/setRole" class="ml-1 border px-2 py-1">Guardar</button></form> <!> <!></td></tr>'),_e=m('<h1 class="mb-4 text-xl">Usuarios</h1> <!> <table class="w-full border-collapse"><thead><tr><th class="border p-2 text-left">Email</th><th class="border p-2">Rol</th><th class="border p-2">Estado</th><th class="border p-2">Acciones</th></tr></thead><tbody></tbody></table> <form method="POST" class="mb-6 flex flex-wrap items-center gap-2 rounded border bg-gray-50 p-3"><h2 class="mb-1 w-full font-semibold">Crear nuevo usuario</h2> <input type="email" name="email" placeholder="Email" class="border p-1" required/> <input type="username" name="username" placeholder="Username" class="border p-1" required/> <input type="age" name="age" placeholder="Age" class="border p-1" required/> <input type="password" name="password" placeholder="ContraseÃ±a (min 8)" class="border p-1" required/> <select name="role" class="custom-select"><option>user</option><option>admin</option></select> <button formaction="?/createUser" class="border bg-blue-100 px-3 py-1 hover:bg-blue-200">Crear</button></form>',1);function Re(Q,S){se(S,!1);let A=N(S,"data",8),p=N(S,"form",8);me();var B=_e(),D=l(L(B),2);{var V=f=>{var e=pe(),b=o(e,!0);a(e),v(()=>{ne(e,1,`mb-3 rounded border p-2 ${g(p()),t(()=>p().success?"border-green-400 bg-green-50":"border-red-400 bg-red-50")??""}`),x(b,(g(p()),t(()=>p().message)))}),n(f,e)};y(D,f=>{g(p()),t(()=>p()?.message)&&f(V)})}var O=l(D,2),G=l(o(O));le(G,5,()=>(g(A()),t(()=>A().items)),ie,(f,e)=>{var b=ue(),T=o(b),W=o(T,!0);a(T);var w=l(T),X=o(w,!0);a(w);var q=l(w),Y=o(q,!0);a(q);var H=l(q),R=o(H),C=o(R);u(C);var I=l(C,2),h=o(I);h.value=h.__value="user";var E=l(h);E.value=E.__value="admin",a(I),c(2),a(R);var J=l(R,2);{var Z=d=>{var s=ce(),i=o(s);u(i),c(2),a(s),v(()=>_(i,(r(e),t(()=>r(e).id)))),n(d,s)},$=d=>{var s=oe(),i=L(s);{var ae=U=>{var k=ve(),K=o(k);u(K),c(2),a(k),v(()=>_(K,(r(e),t(()=>r(e).id)))),n(U,k)};y(i,U=>{r(e),t(()=>r(e).status==="suspended")&&U(ae)},!0)}n(d,s)};y(J,d=>{r(e),t(()=>r(e).status==="active")?d(Z):d($,!1)})}var ee=l(J,2);{var re=d=>{var s=fe(),i=o(s);u(i),c(2),a(s),v(()=>_(i,(r(e),t(()=>r(e).id)))),n(d,s)},te=d=>{var s=be(),i=o(s);u(i),c(2),a(s),v(()=>_(i,(r(e),t(()=>r(e).id)))),n(d,s)};y(ee,d=>{r(e),t(()=>r(e).status!=="deleted")?d(re):d(te,!1)})}a(H),a(b),v(()=>{x(W,(r(e),t(()=>r(e).email))),x(X,(r(e),t(()=>r(e).role))),x(Y,(r(e),t(()=>r(e).status))),_(C,(r(e),t(()=>r(e).id))),M(h,(r(e),t(()=>r(e).role==="user"))),M(E,(r(e),t(()=>r(e).role==="admin")))}),n(f,b)}),a(G),a(O);var j=l(O,2),z=l(o(j),10),P=o(z);P.value=P.__value="user";var F=l(P);F.value=F.__value="admin",a(z),c(2),a(j),n(Q,B),de()}export{Re as component};
