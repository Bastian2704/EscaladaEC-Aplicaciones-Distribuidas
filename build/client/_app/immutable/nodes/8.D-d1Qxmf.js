import{f as _,a as m,c as Da}from"../chunks/R8eUw0rf.js";import"../chunks/Dw5luiki.js";import{p as Fa,l as Ca,h as Ma,t as f,a as Aa,e as d,s as n,c as r,u as i,i as j,m as ra,n as h,r as e,g as t,f as ia}from"../chunks/Ckx13BoS.js";import{s as b,e as S}from"../chunks/DjrrgQ94.js";import{i as g}from"../chunks/C6UGZhB6.js";import{e as La,i as Na}from"../chunks/DBNqpBx4.js";import{b as z,r as k,s as O}from"../chunks/xiS_jUnV.js";import{s as Ra}from"../chunks/BP3dwPwH.js";import{l as Ua,f as Ba,s as oa,b as sa}from"../chunks/ZruzyP71.js";import{i as Va}from"../chunks/ZIA5dzzm.js";import{p as na}from"../chunks/B6sxBtLM.js";import{p as I}from"../chunks/DuKJIFvM.js";/* empty css                */var Ya=_('<button class="main__title-create"> </button>'),ja=_("<p> </p>"),za=_('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/suspend" class="border px-2 py-1">Suspender</button></form>'),Ea=_('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/resume" class="border px-2 py-1">Reactivar</button></form>'),Ga=_('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/softDelete" class="border px-2 py-1">Borrar</button></form>'),Ha=_('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/restore" class="border px-2 py-1">Restaurar</button></form>'),Ja=_("<td><a>editar</a></td> <td><!> <!></td>",1),Ka=_('<tr class="main__table-body"><td class="main__table-td"> </td><td class="main__table-td"> </td><td class="main__table-td"> </td><!><td class="main__table-td-arrow">→</td></tr>'),Qa=_('<form method="POST" enctype="multipart/form-data"><h2>Crear nuevo sector</h2> <br/> <label for="name">Nombre:</label> <input type="text" name="name" id="name" required/> <br/> <label for="orientation">Orientación:</label> <input type="text" name="orientation" id="orientation" required/> <br/> <label for="description">Descripción:</label> <input type="text" name="description" id="description" required/> <br/> <button type="submit" formaction="?/createSector">Crear Sector</button></form>'),Wa=_('<section class="background"><section class="header__container"><header class="header"><section class="header__logo-container"><img class="logo" alt="logo"/> <h1 class="header-text">Urqu Ascents</h1></section> <nav class="menu"><ul class="menu__list header-text"><li><a class="menu__item" href="/dashboard">Menú Principal</a></li> <li><a class="menu__item" href="/area">Áreas</a></li> <li><a class="menu__item" href="/area">Mi Perfil</a></li></ul></nav></header></section> <main><section class="main"><section class="main__parent-description"><h2 class="main__subtitle"> </h2> <p class="main__area-info"> </p></section> <section class="main__title-container"><section class="main__title-left-container"><a class="main__title button" href="/area">←</a> <h1 class="main__title">Sectores</h1></section> <!></section> <!> <button formaction="">Filtros</button> <table class="main__table"><thead class="main__table-head"><tr><th class="main__table-item">Nombre</th><th class="main__table-item">Orientación</th><th class="main__table-item">Descripción</th></tr></thead><tbody class="main__table-tbody"></tbody></table> <!></section></main> <footer class="footer"><img class="smallLogo" alt="logo"/> <section class="footer__links"><a href="/dashboard">Inicio</a> <a href="/area">Áreas</a> <a href="/profile">Mi Perfil</a> <a href="/contact">Contacto</a></section> <p class="footer__text"> </p></footer></section>');function ct(la,x){Fa(x,!1);let v=na(x,"data",8),p=na(x,"form",8),y=ra(!1),P=ra(!1);function ma(){j(P,!t(P))}Ca(()=>d(p()),()=>{p()?.message&&(j(y,!0),setTimeout(()=>{j(y,!1)},3e3))}),Ma(),Va();var T=Wa(),q=r(T),E=r(q),G=r(E),ca=r(G);h(2),e(G),h(2),e(E),e(q);var w=n(q,2),H=r(w),D=r(H),F=r(D),da=r(F,!0);e(F);var J=n(F,2),_a=r(J);e(J),e(D);var C=n(D,2),fa=n(r(C),2);{var va=s=>{var a=Ya(),u=r(a,!0);e(a),f(()=>b(u,t(P)?"×":"+")),S("click",a,ma),m(s,a)};g(fa,s=>{d(I),i(()=>I.data.role=="admin")&&s(va)})}e(C);var K=n(C,2);{var pa=s=>{var a=ja(),u=r(a,!0);e(a),f(()=>{Ra(a,1,`mb-3 rounded border p-2 ${d(p()),i(()=>p().success?"border-green-400 bg-green-50":"border-red-400 bg-red-50")??""}`),b(u,(d(p()),i(()=>p().message)))}),m(s,a)};g(K,s=>{d(p()),t(y),i(()=>p()?.message&&t(y))&&s(pa)})}var M=n(K,4),Q=n(r(M));La(Q,5,()=>(d(v()),i(()=>v().items)),Na,(s,a)=>{var u=Ka(),A=r(u),ga=r(A,!0);e(A);var L=n(A),xa=r(L,!0);e(L);var N=n(L),ya=r(N,!0);e(N);var Pa=n(N);{var Sa=R=>{var $=Ja(),U=ia($),aa=r(U);e(U);var B=n(U,2),ta=r(B);{var ka=o=>{var l=za(),c=r(l);k(c),h(2),e(l),f(()=>O(c,(t(a),i(()=>t(a).id)))),m(o,l)},Oa=o=>{var l=Da(),c=ia(l);{var wa=V=>{var Y=Ea(),ea=r(Y);k(ea),h(2),e(Y),f(()=>O(ea,(t(a),i(()=>t(a).id)))),m(V,Y)};g(c,V=>{t(a),i(()=>t(a).status==="suspended")&&V(wa)},!0)}m(o,l)};g(ta,o=>{t(a),i(()=>t(a).status==="active")?o(ka):o(Oa,!1)})}var Ia=n(ta,2);{var Ta=o=>{var l=Ga(),c=r(l);k(c),h(2),e(l),f(()=>O(c,(t(a),i(()=>t(a).id)))),m(o,l)},qa=o=>{var l=Ha(),c=r(l);k(c),h(2),e(l),f(()=>O(c,(t(a),i(()=>t(a).id)))),m(o,l)};g(Ia,o=>{t(a),i(()=>t(a).status!=="deleted")?o(Ta):o(qa,!1)})}e(B),f(()=>z(aa,"href",`/area/${t(a),i(()=>t(a).areaId)??""}/sector/${t(a),i(()=>t(a).id)??""}/edit`)),S("click",aa,oa(function(o){sa.call(this,x,o)})),S("click",B,oa(function(o){sa.call(this,x,o)})),m(R,$)};g(Pa,R=>{d(I),i(()=>I.data.role=="admin")&&R(Sa)})}h(),e(u),f(()=>{b(ga,(t(a),i(()=>t(a).name))),b(xa,(t(a),i(()=>t(a).orientation))),b(ya,(t(a),i(()=>t(a).description)))}),S("click",u,()=>window.location.href=`/area/${t(a).areaId}/sector/${t(a).id}/climb`),m(s,u)}),e(Q),e(M);var ua=n(M,2);{var ba=s=>{var a=Qa();m(s,a)};g(ua,s=>{t(P)&&s(ba)})}e(H),e(w);var W=n(w,2),X=r(W),Z=n(X,4),ha=r(Z);e(Z),e(W),e(T),f(s=>{z(ca,"src",Ua),b(da,(d(v()),i(()=>v().areaInfo[0].name))),b(_a,`${d(v()),i(()=>v().areaInfo[0].province)??""}-${d(v()),i(()=>v().areaInfo[0].city)??""}`),z(X,"src",Ba),b(ha,`© ${s??""} Urqu Ascents`)},[()=>i(()=>new Date().getFullYear())]),m(la,T),Aa()}export{ct as component};
