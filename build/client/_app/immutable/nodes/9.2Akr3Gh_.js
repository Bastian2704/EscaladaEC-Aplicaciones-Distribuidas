import{f as v,a as d,c as Qa}from"../chunks/R8eUw0rf.js";import"../chunks/Dw5luiki.js";import{p as Wa,m as P,g as a,l as na,h as Xa,t as m,a as Za,e as x,s as o,c as r,u as s,i as b,n as C,r as t,f as Ta,j as ka}from"../chunks/Ckx13BoS.js";import{s as h,e as U}from"../chunks/DjrrgQ94.js";import{i as O}from"../chunks/C6UGZhB6.js";import{e as la,i as da}from"../chunks/DBNqpBx4.js";import{b as z,r as I,s as H}from"../chunks/xiS_jUnV.js";import{s as $a}from"../chunks/BP3dwPwH.js";import{c as Ca,b as Ea}from"../chunks/DnupdPkf.js";import{l as ae,f as ee,s as Pa,b as Oa}from"../chunks/ZruzyP71.js";import{i as te}from"../chunks/ZIA5dzzm.js";import{p as Sa}from"../chunks/B6sxBtLM.js";import{p as J}from"../chunks/DuKJIFvM.js";var re=v('<button class="main__title-create"> </button>'),oe=v("<p> </p>"),se=v('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/suspend" class="border px-2 py-1">Suspender</button></form>'),ie=v('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/resume" class="border px-2 py-1">Reactivar</button></form>'),ne=v('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/softDelete" class="border px-2 py-1">Borrar</button></form>'),le=v('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/restore" class="border px-2 py-1">Restaurar</button></form>'),de=v("<td><a>editar</a></td> <td><!> <!></td>",1),ce=v('<tr class="main__table-body"><td class="main__table-td"> </td><td class="main__table-td"> </td><td class="main__table-td"> </td><td class="main__table-td"> </td><!><td class="main__table-td-arrow">→</td></tr>'),_e=v("<option> </option>"),me=v("<option> </option>"),ve=v('<select id="climbType" name="climbType" required class="border px-2 py-1"></select>'),pe=v('<input id="climbType" name="climbType" value="" class="border bg-gray-100 px-2 py-1" disabled/>'),ue=v('<form method="POST" class="mt-6 space-y-3"><h2 class="font-semibold">Crear nuevo Climb</h2> <div><label for="name" class="mb-1 block">Nombre</label> <input id="name" name="name" required class="border px-2 py-1"/></div> <div><label for="category" class="mb-1 block">Categoría</label> <select id="category" name="category" required class="border px-2 py-1"></select></div> <div><label for="climbType" class="mb-1 block">Tipo de Escalada</label> <!></div> <div><label for="requiredEquipment" class="mb-1 block">Equipo Requerido</label> <input id="requiredEquipment" name="requiredEquipment" required class="border px-2 py-1"/></div> <button type="submit" formaction="?/createClimb" class="border px-3 py-1">Crear Climb</button></form>'),fe=v('<section class="background"><section class="header__container"><header class="header"><section class="header__logo-container"><img class="logo" alt="logo"/> <h1 class="header-text">Urqu Ascents</h1></section> <nav class="menu"><ul class="menu__list header-text"><li><a class="menu__item" href="/dashboard">Menú Principal</a></li> <li><a class="menu__item" href="/area">Áreas</a></li> <li><a class="menu__item" href="/area">Mi Perfil</a></li></ul></nav></header></section> <main><section class="main"><section class="main__parent-description"><h2 class="main__subtitle"> </h2> <p class="main__area-info"> </p></section> <section class="main__title-container"><section class="main__title-left-container"><a class="main__title button">←</a> <h1 class="main__title">Climb</h1></section> <!></section> <!> <button formaction="">Filtros</button> <table class="main__table"><thead class="main__table-head"><tr><th class="main__table-item">Nombre</th><th class="main__table-item">Categoría</th><th class="main__table-item">Tipo de Escalada</th><th class="main__table-item">Equipo Requerido</th></tr></thead><tbody class="main__table-tbody"></tbody></table> <!></section></main> <footer class="footer"><img class="smallLogo" alt="logo"/> <section class="footer__links"><a href="/dashboard">Inicio</a> <a href="/area">Áreas</a> <a href="/profile">Mi Perfil</a> <a href="/contact">Contacto</a></section> <p class="footer__text"> </p></footer></section>');function we(wa,G){Wa(G,!1);const q=P();let g=Sa(G,"data",8),ca=P(!1),j=P(!1);function Fa(){b(j,!a(j))}const K=g().categoryGroups??[],Q=g().categoryOptions??{};let w=P(K[0]??""),B=P(a(w)),S=P(Q[a(w)]?.[0]??""),_a=P(""),ma=P("");function Ia(){b(w,a(B)),b(S,Q[a(w)]?.[0]??"")}let E=Sa(G,"form",8);na(()=>x(E()),()=>{E()?.message&&(b(ca,!0),setTimeout(()=>{b(ca,!1)},3e3))}),na(()=>a(w),()=>{b(q,Q[a(w)]??[])}),na(()=>(a(q),a(S)),()=>{a(q).length&&!a(q).includes(a(S))&&b(S,a(q)[0]??"")}),Xa(),te();var W=fe(),X=r(W),va=r(X),pa=r(va),Ga=r(pa);C(2),t(pa),C(2),t(va),t(X);var Z=o(X,2),ua=r(Z),$=r(ua),aa=r($),Ma=r(aa,!0);t(aa);var fa=o(aa,2),Ra=r(fa,!0);t(fa),t($);var ea=o($,2),ta=r(ea),Aa=r(ta);C(2),t(ta);var Da=o(ta,2);{var La=l=>{var e=re(),p=r(e,!0);t(e),m(()=>h(p,a(j)?"×":"+")),U("click",e,Fa),d(l,e)};O(Da,l=>{x(J),s(()=>J.data.role=="admin")&&l(La)})}t(ea);var ba=o(ea,2);{var Na=l=>{var e=oe(),p=r(e,!0);t(e),m(()=>{$a(e,1,`mb-3 rounded border p-2 ${x(E()),s(()=>E().success?"border-green-400 bg-green-50":"border-red-400 bg-red-50")??""}`),h(p,(x(E()),s(()=>E().message)))}),d(l,e)};O(ba,l=>{x(E()),s(()=>E()?.message)&&l(Na)})}var ra=o(ba,4),ha=o(r(ra));la(ha,5,()=>(x(g()),s(()=>g().items)),da,(l,e)=>{var p=ce(),F=r(p),M=r(F,!0);t(F);var T=o(F),R=r(T,!0);t(T);var A=o(T),oa=r(A,!0);t(A);var D=o(A),V=r(D,!0);t(D);var Y=o(D);{var n=c=>{var u=de(),k=Ta(u),f=r(k);t(k);var L=o(k,2),N=r(L);{var Va=i=>{var _=se(),y=r(_);I(y),C(2),t(_),m(()=>H(y,(a(e),s(()=>a(e).id)))),d(i,_)},Ya=i=>{var _=Qa(),y=Ta(_);{var Ka=sa=>{var ia=ie(),qa=r(ia);I(qa),C(2),t(ia),m(()=>H(qa,(a(e),s(()=>a(e).id)))),d(sa,ia)};O(y,sa=>{a(e),s(()=>a(e).status==="suspended")&&sa(Ka)},!0)}d(i,_)};O(N,i=>{a(e),s(()=>a(e).status==="active")?i(Va):i(Ya,!1)})}var za=o(N,2);{var Ha=i=>{var _=ne(),y=r(_);I(y),C(2),t(_),m(()=>H(y,(a(e),s(()=>a(e).id)))),d(i,_)},Ja=i=>{var _=le(),y=r(_);I(y),C(2),t(_),m(()=>H(y,(a(e),s(()=>a(e).id)))),d(i,_)};O(za,i=>{a(e),s(()=>a(e).status!=="deleted")?i(Ha):i(Ja,!1)})}t(L),m(()=>z(f,"href",`climb/${a(e),s(()=>a(e).id)??""}/edit`)),U("click",f,Pa(function(i){Oa.call(this,G,i)})),U("click",L,Pa(function(i){Oa.call(this,G,i)})),d(c,u)};O(Y,c=>{x(J),s(()=>J.data.role=="admin")&&c(n)})}C(),t(p),m(()=>{h(M,(a(e),s(()=>a(e).name))),h(R,(a(e),s(()=>a(e).category))),h(oa,(a(e),s(()=>a(e).climbType))),h(V,(a(e),s(()=>a(e).requiredEquipment)))}),U("click",p,()=>window.location.href=`climb/${a(e).id}/grade`),d(l,p)}),t(ha),t(ra);var Ua=o(ra,2);{var ja=l=>{var e=ue(),p=o(r(e),2),F=o(r(p),2);I(F),t(p);var M=o(p,2),T=o(r(M),2);m(()=>{a(B),ka(()=>{})}),la(T,5,()=>K,da,(n,c)=>{var u=_e(),k=r(u,!0);t(u);var f={};m(()=>{h(k,a(c)),f!==(f=a(c))&&(u.value=(u.__value=a(c))??"")}),d(n,u)}),t(T),t(M);var R=o(M,2),A=o(r(R),2);{var oa=n=>{var c=ve();m(()=>{a(S),ka(()=>{a(q)})}),la(c,5,()=>a(q),da,(u,k)=>{var f=me(),L=r(f,!0);t(f);var N={};m(()=>{h(L,a(k)),N!==(N=a(k))&&(f.value=(f.__value=a(k))??"")}),d(u,f)}),t(c),Ea(c,()=>a(S),u=>b(S,u)),d(n,c)},D=n=>{var c=pe();d(n,c)};O(A,n=>{a(q),s(()=>a(q).length)?n(oa):n(D,!1)})}t(R);var V=o(R,2),Y=o(r(V),2);I(Y),t(V),C(2),t(e),m(()=>T.disabled=s(()=>!K.length)),Ca(F,()=>a(_a),n=>b(_a,n)),Ea(T,()=>a(B),n=>b(B,n)),U("change",T,Ia),Ca(Y,()=>a(ma),n=>b(ma,n)),d(l,e)};O(Ua,l=>{a(j)&&l(ja)})}t(ua),t(Z);var ga=o(Z,2),ya=r(ga),xa=o(ya,4),Ba=r(xa);t(xa),t(ga),t(W),m(l=>{z(Ga,"src",ae),h(Ma,(x(g()),s(()=>g().sectorInfo[0].name))),h(Ra,(x(g()),s(()=>g().sectorInfo[0].orientation))),z(Aa,"href",`/area/${x(g()),s(()=>g().sectorInfo[0].areaId)??""}/sector`),z(ya,"src",ee),h(Ba,`© ${l??""} Urqu Ascents`)},[()=>s(()=>new Date().getFullYear())]),d(wa,W),Za()}export{we as component};
