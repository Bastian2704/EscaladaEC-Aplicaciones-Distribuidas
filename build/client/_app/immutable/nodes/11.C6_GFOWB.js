import{f,a as _,c as za}from"../chunks/R8eUw0rf.js";import"../chunks/Dw5luiki.js";import{p as Ha,m as I,g as a,l as ma,h as Ja,t as v,a as Ka,e as h,s as o,c as t,u as s,i as y,n as k,r as e,j as _a,f as Na}from"../chunks/Ckx13BoS.js";import{e as Y,s as p}from"../chunks/DjrrgQ94.js";import{i as O}from"../chunks/C6UGZhB6.js";import{e as z,i as H}from"../chunks/DBNqpBx4.js";import{b as da,r as C,s as J}from"../chunks/xiS_jUnV.js";import{s as Qa}from"../chunks/BP3dwPwH.js";import{b as va,a as Wa}from"../chunks/DnupdPkf.js";import{l as Xa,f as Za,s as $a,b as ae}from"../chunks/ZruzyP71.js";import{i as ee}from"../chunks/ZIA5dzzm.js";import{p as qa}from"../chunks/B6sxBtLM.js";import{p as Ia}from"../chunks/DuKJIFvM.js";/* empty css                */var te=f("<p> </p>"),re=f('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/suspend" class="border px-2 py-1">Suspender</button></form>'),se=f('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/resume" class="border px-2 py-1">Reactivar</button></form>'),oe=f('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/softDelete" class="border px-2 py-1">Borrar</button></form>'),ie=f('<form method="POST" class="ml-2 inline"><input type="hidden" name="id"/> <button formaction="?/restore" class="border px-2 py-1">Restaurar</button></form>'),le=f("<td><!> <!></td>"),ne=f('<tr class="main__table-body"><td class="main__table-td"> </td><td class="main__table-td"> </td><td class="main__table-td"> </td><td class="main__table-td"> </td><!><td class="main__table-td-arrow">Editar →</td></tr>'),ce=f("<option> </option>"),me=f("<option> </option>"),_e=f('<select id="value" name="value" required class="border px-2 py-1"></select>'),de=f('<input id="value" name="value" class="border bg-gray-100 px-2 py-1" value="" disabled/>'),ve=f("<option> </option>"),fe=f('<form method="POST" class="mt-6 space-y-3"><h2 class="font-semibold">Crear nuevo grade</h2> <div><label for="gradeSystem" class="mb-1 block">Sistema de grado</label> <select id="gradeSystem" name="gradeSystem" required class="border px-2 py-1"></select></div> <div><label for="value" class="mb-1 block">Valor</label> <!></div> <div class="flex items-center gap-2"><input id="accomplished" name="accomplished" type="checkbox"/> <label for="accomplished">Logrado</label></div> <div><label for="difficultyLevel" class="mb-1 block">Dificultad percibida</label> <select id="difficultyLevel" name="difficultyLevel" required class="border px-2 py-1"></select></div> <button type="submit" formaction="?/createGrade" class="border px-3 py-1">Publicar Grado</button></form>'),ue=f('<section class="background"><section class="header__container"><header class="header"><section class="header__logo-container"><img class="logo" alt="logo"/> <h1 class="header-text">Urqu Ascents</h1></section> <nav class="menu"><ul class="menu__list header-text"><li><a class="menu__item" href="/dashboard">Menú Principal</a></li> <li><a class="menu__item" href="/area">Áreas</a></li> <li><a class="menu__item" href="/area">Mi Perfil</a></li></ul></nav></header></section> <main><section class="main"><section class="main__parent-description"><h2 class="main__subtitle"> </h2> <p class="main__area-info"> </p> <p class="main__area-info"> </p></section> <section class="main__title-container"><section class="main__title-left-container"><a class="main__title button">←</a> <h1 class="main__title">Grades</h1></section> <button class="main__title-create"> </button></section> <!> <button formaction="">Filtros</button> <table class="main__table"><thead class="main__table-head"><tr><th class="main__table-item">Sistema de grado</th><th class="main__table-item">Valor</th><th class="main__table-item">Logrado</th><th class="main__table-item">Dificultad percibida (1-10)</th></tr></thead><tbody class="main__table-tbody"></tbody></table> <!></section></main> <footer class="footer"><img class="smallLogo" alt="logo"/> <section class="footer__links"><a href="/dashboard">Inicio</a> <a href="/area">Áreas</a> <a href="/profile">Mi Perfil</a> <a href="/contact">Contacto</a></section> <p class="footer__text"> </p></footer></section>');function we(Ta,E){Ha(E,!1);const P=I();let c=qa(E,"data",8);const K=c().systems??[],N=c().gradeOptions??{};let w=I(K[0]??""),R=I(a(w)),T=I(N[a(w)]?.[0]??""),fa=I(!1),Q=I(5);function Oa(){y(w,a(R)),y(T,N[a(w)]?.[0]??"")}let q=qa(E,"form",8),ua=I(!1),U=I(!1);function wa(){y(U,!a(U))}ma(()=>a(w),()=>{y(P,N[a(w)]??[])}),ma(()=>(a(P),a(T)),()=>{a(P).length&&!a(P).includes(a(T))&&y(T,a(P)[0]??"")}),ma(()=>h(q()),()=>{q()?.message&&(y(ua,!0),setTimeout(()=>{y(ua,!1)},3e3))}),Ja(),ee();var W=ue(),X=t(W),pa=t(X),ba=t(pa),Fa=t(ba);k(2),e(ba),k(2),e(pa),e(X);var Z=o(X,2),ha=t(Z),$=t(ha),aa=t($),Da=t(aa,!0);e(aa);var ea=o(aa,2),Ga=t(ea);e(ea);var ya=o(ea,2),Ma=t(ya,!0);e(ya),e($);var ta=o($,2),ra=t(ta),Va=t(ra);k(2),e(ra);var sa=o(ra,2),Aa=t(sa,!0);e(sa),e(ta);var ga=o(ta,2);{var Ca=b=>{var r=te(),g=t(r,!0);e(r),v(()=>{Qa(r,1,`mb-3 rounded border p-2 ${h(q()),s(()=>q().success?"border-green-400 bg-green-50":"border-red-400 bg-red-50")??""}`),p(g,(h(q()),s(()=>q().message)))}),_(b,r)};O(ga,b=>{h(q()),s(()=>q()?.message)&&b(Ca)})}var oa=o(ga,4),xa=o(t(oa));z(xa,5,()=>(h(c()),s(()=>c().items)),H,(b,r)=>{var g=ne(),L=t(g),D=t(L,!0);e(L);var G=o(L),ia=t(G,!0);e(G);var M=o(G),V=t(M,!0);e(M);var F=o(M),j=t(F,!0);e(F);var A=o(F);{var n=i=>{var l=le(),x=t(l);{var u=m=>{var d=re(),S=t(d);C(S),k(2),e(d),v(()=>J(S,(a(r),s(()=>a(r).id)))),_(m,d)},la=m=>{var d=za(),S=Na(d);{var Ya=na=>{var ca=se(),La=t(ca);C(La),k(2),e(ca),v(()=>J(La,(a(r),s(()=>a(r).id)))),_(na,ca)};O(S,na=>{a(r),s(()=>a(r).status==="suspended")&&na(Ya)},!0)}_(m,d)};O(x,m=>{a(r),s(()=>a(r).status==="active")?m(u):m(la,!1)})}var B=o(x,2);{var ja=m=>{var d=oe(),S=t(d);C(S),k(2),e(d),v(()=>J(S,(a(r),s(()=>a(r).id)))),_(m,d)},Ba=m=>{var d=ie(),S=t(d);C(S),k(2),e(d),v(()=>J(S,(a(r),s(()=>a(r).id)))),_(m,d)};O(B,m=>{a(r),s(()=>a(r).status!=="deleted")?m(ja):m(Ba,!1)})}e(l),Y("click",l,$a(function(m){ae.call(this,E,m)})),_(i,l)};O(A,i=>{h(Ia),s(()=>Ia.data.role=="admin")&&i(n)})}k(),e(g),v(()=>{p(D,(a(r),s(()=>a(r).gradeSystem))),p(ia,(a(r),s(()=>a(r).value))),p(V,(a(r),s(()=>a(r).accomplished?"✅":"❌"))),p(j,(a(r),s(()=>a(r).difficultyLevel)))}),Y("click",g,()=>window.location.href=`grade/${a(r).id}/edit`),_(b,g)}),e(xa),e(oa);var Ea=o(oa,2);{var Ra=b=>{var r=fe(),g=o(t(r),2),L=o(t(g),2);v(()=>{a(R),_a(()=>{})}),z(L,5,()=>K,H,(n,i)=>{var l=ce(),x=t(l,!0);e(l);var u={};v(()=>{p(x,a(i)),u!==(u=a(i))&&(l.value=(l.__value=a(i))??"")}),_(n,l)}),e(L),e(g);var D=o(g,2),G=o(t(D),2);{var ia=n=>{var i=_e();v(()=>{a(T),_a(()=>{a(P)})}),z(i,5,()=>a(P),H,(l,x)=>{var u=me(),la=t(u,!0);e(u);var B={};v(()=>{p(la,a(x)),B!==(B=a(x))&&(u.value=(u.__value=a(x))??"")}),_(l,u)}),e(i),va(i,()=>a(T),l=>y(T,l)),_(n,i)},M=n=>{var i=de();_(n,i)};O(G,n=>{a(P),s(()=>a(P).length)?n(ia):n(M,!1)})}e(D);var V=o(D,2),F=t(V);C(F),k(2),e(V);var j=o(V,2),A=o(t(j),2);v(()=>{a(Q),_a(()=>{})}),z(A,4,()=>s(()=>Array.from({length:10},(n,i)=>i+1)),H,(n,i)=>{var l=ve(),x=t(l,!0);e(l);var u={};v(()=>{p(x,i),u!==(u=i)&&(l.value=(l.__value=i)??"")}),_(n,l)}),e(A),e(j),k(2),e(r),v(()=>L.disabled=s(()=>!K.length)),va(L,()=>a(R),n=>y(R,n)),Y("change",L,Oa),Wa(F,()=>a(fa),n=>y(fa,n)),va(A,()=>a(Q),n=>y(Q,n)),_(b,r)};O(Ea,b=>{a(U)&&b(Ra)})}e(ha),e(Z);var Sa=o(Z,2),ka=t(Sa),Pa=o(ka,4),Ua=t(Pa);e(Pa),e(Sa),e(W),v(b=>{da(Fa,"src",Xa),p(Da,(h(c()),s(()=>c().climbInfo[0].name))),p(Ga,`${h(c()),s(()=>c().climbInfo[0].category)??""}-${h(c()),s(()=>c().climbInfo[0].climbType)??""}`),p(Ma,(h(c()),s(()=>c().climbInfo[0].requiredEquipment))),da(Va,"href",(h(c()),s(()=>`/area/${c().areaId}/sector/${c().sectorId}/climb`))),p(Aa,a(U)?"×":"+"),da(ka,"src",Za),p(Ua,`© ${b??""} Urqu Ascents`)},[()=>s(()=>new Date().getFullYear())]),Y("click",sa,wa),_(Ta,W),Ka()}export{we as component};
