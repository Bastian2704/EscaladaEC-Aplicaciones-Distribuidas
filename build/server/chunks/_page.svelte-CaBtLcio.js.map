{"version":3,"file":"_page.svelte-CaBtLcio.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(admin)/users/_page.svelte.js"],"sourcesContent":["import { y as attr_class, z as stringify, F as ensure_array_like, x as attr, G as bind_props } from \"../../../../chunks/index.js\";\nimport { e as escape_html } from \"../../../../chunks/context.js\";\nfunction _page($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let data = $$props[\"data\"];\n    let form = $$props[\"form\"];\n    $$renderer2.push(`<h1 class=\"mb-4 text-xl\">Usuarios</h1> `);\n    if (form?.message) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<p${attr_class(`mb-3 rounded border p-2 ${stringify(form.success ? \"border-green-400 bg-green-50\" : \"border-red-400 bg-red-50\")}`)}>${escape_html(form.message)}</p>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--> <table class=\"w-full border-collapse\"><thead><tr><th class=\"border p-2 text-left\">Email</th><th class=\"border p-2\">Rol</th><th class=\"border p-2\">Estado</th><th class=\"border p-2\">Acciones</th></tr></thead><tbody><!--[-->`);\n    const each_array = ensure_array_like(data.items);\n    for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n      let u = each_array[$$index];\n      $$renderer2.push(`<tr><td class=\"border p-2\">${escape_html(u.email)}</td><td class=\"border p-2\">${escape_html(u.role)}</td><td class=\"border p-2\">${escape_html(u.status)}</td><td class=\"border p-2\"><form method=\"POST\" class=\"inline\"><input type=\"hidden\" name=\"id\"${attr(\"value\", u.id)}/> <select name=\"role\" class=\"border p-1\">`);\n      $$renderer2.option({ value: \"user\", selected: u.role === \"user\" }, ($$renderer3) => {\n        $$renderer3.push(`user`);\n      });\n      $$renderer2.option({ value: \"admin\", selected: u.role === \"admin\" }, ($$renderer3) => {\n        $$renderer3.push(`admin`);\n      });\n      $$renderer2.push(`</select> <button formaction=\"?/setRole\" class=\"ml-1 border px-2 py-1\">Guardar</button></form> `);\n      if (u.status === \"active\") {\n        $$renderer2.push(\"<!--[-->\");\n        $$renderer2.push(`<form method=\"POST\" class=\"ml-2 inline\"><input type=\"hidden\" name=\"id\"${attr(\"value\", u.id)}/> <button formaction=\"?/suspend\" class=\"border px-2 py-1\">Suspender</button></form>`);\n      } else {\n        $$renderer2.push(\"<!--[!-->\");\n        if (u.status === \"suspended\") {\n          $$renderer2.push(\"<!--[-->\");\n          $$renderer2.push(`<form method=\"POST\" class=\"ml-2 inline\"><input type=\"hidden\" name=\"id\"${attr(\"value\", u.id)}/> <button formaction=\"?/resume\" class=\"border px-2 py-1\">Reactivar</button></form>`);\n        } else {\n          $$renderer2.push(\"<!--[!-->\");\n        }\n        $$renderer2.push(`<!--]-->`);\n      }\n      $$renderer2.push(`<!--]--> `);\n      if (u.status !== \"deleted\") {\n        $$renderer2.push(\"<!--[-->\");\n        $$renderer2.push(`<form method=\"POST\" class=\"ml-2 inline\"><input type=\"hidden\" name=\"id\"${attr(\"value\", u.id)}/> <button formaction=\"?/softDelete\" class=\"border px-2 py-1\">Borrar</button></form>`);\n      } else {\n        $$renderer2.push(\"<!--[!-->\");\n        $$renderer2.push(`<form method=\"POST\" class=\"ml-2 inline\"><input type=\"hidden\" name=\"id\"${attr(\"value\", u.id)}/> <button formaction=\"?/resume\" class=\"border px-2 py-1\">Restaurar</button></form>`);\n      }\n      $$renderer2.push(`<!--]--></td></tr>`);\n    }\n    $$renderer2.push(`<!--]--></tbody></table> <form method=\"POST\" class=\"mb-6 flex flex-wrap items-center gap-2 rounded border bg-gray-50 p-3\"><h2 class=\"mb-1 w-full font-semibold\">Crear nuevo usuario</h2> <input type=\"email\" name=\"email\" placeholder=\"Email\" class=\"border p-1\" required/> <input type=\"username\" name=\"username\" placeholder=\"Username\" class=\"border p-1\" required/> <input type=\"age\" name=\"age\" placeholder=\"Age\" class=\"border p-1\" required/> <input type=\"password\" name=\"password\" placeholder=\"ContraseÃ±a (min 8)\" class=\"border p-1\" required/> <select name=\"role\" class=\"custom-select\">`);\n    $$renderer2.option({ value: \"user\" }, ($$renderer3) => {\n      $$renderer3.push(`user`);\n    });\n    $$renderer2.option({ value: \"admin\" }, ($$renderer3) => {\n      $$renderer3.push(`admin`);\n    });\n    $$renderer2.push(`</select> <button formaction=\"?/createUser\" class=\"border bg-blue-100 px-3 py-1 hover:bg-blue-200\">Crear</button></form>`);\n    bind_props($$props, { data, form });\n  });\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}